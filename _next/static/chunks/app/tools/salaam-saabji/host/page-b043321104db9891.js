(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[841],{7432:function(e,t,a){Promise.resolve().then(a.bind(a,5978))},7594:function(e,t,a){"use strict";a.d(t,{F:function(){return n}});var s=a(994),l=a(2307);let r=(0,s.ZF)({apiKey:"AIzaSyB8KIYTjXFaOR784tqh9xIauwr-XVz4_Zg",authDomain:"salaam-saabji.firebaseapp.com",projectId:"salaam-saabji",storageBucket:"salaam-saabji.appspot.com",messagingSenderId:"462281595995",appId:"1:462281595995:web:e3d91c6b84f101e21b737e",measurementId:"G-XB7V8P0KDQ"}),n=(0,l.N8)(r)},5978:function(e,t,a){"use strict";a.r(t);var s=a(7437),l=a(2265),r=a(7594),n=a(2307);t.default=()=>{let[e,t]=(0,l.useState)(null),[a,c]=(0,l.useState)([]),[i,o]=(0,l.useState)(""),[m,d]=(0,l.useState)(1),[x,h]=(0,l.useState)(""),u=(0,l.useMemo)(()=>(0,n.iH)(r.F,"games/"+e+"/players"),[e]),generateGameId=async()=>{let e="",t=!0;for(;t;){e=Math.floor(1e5+9e5*Math.random()).toString();let a=(0,n.iH)(r.F,"games/"+e),s=await (0,n.U2)(a);t=s.exists()}return e},handleChoice=e=>{d("create"===e?2:3)};(0,l.useEffect)(()=>{if(!e)return;let t=(0,n.jM)(u,e=>{let t=e.val();c(t?Object.values(t):[])});return()=>t()},[u,e]);let handleCreateGame=async e=>{if(e.preventDefault(),!i){alert("Please enter a category name to create a game.");return}let a=await generateGameId();try{await (0,n.t8)((0,n.iH)(r.F,"games/"+a),{host:i,players:{}}),t(a),d(4)}catch(e){console.error("Error creating game: ",e)}},handleJoinGame=async e=>{e.preventDefault();try{let e=(0,n.iH)(r.F,"games/"+x),a=await (0,n.U2)(e);if(a.exists()){t(x);let e=a.val().players||{};c(Object.values(e)),d(4)}else alert("Invalid Game Room ID.")}catch(e){console.error("Error joining game: ",e)}},handleDeletePlayer=async t=>{if(e)try{let a=(0,n.iH)(r.F,"games/".concat(e,"/players/").concat(t));await (0,n.Od)(a),console.log("Player ".concat(t," removed successfully.")),c(e=>e.filter(e=>e.id!==t))}catch(e){console.error("Error removing player: ",e)}};return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen",children:[1===m&&(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Choose an Option"}),(0,s.jsx)("button",{onClick:()=>handleChoice("create"),className:"bg-blue-500 text-white px-4 py-2 rounded mr-6",children:"Create New Game"}),(0,s.jsx)("button",{onClick:()=>handleChoice("join"),className:"bg-green-500 text-white px-4 py-2 rounded",children:"Join Existing Game"})]}),2===m&&(0,s.jsxs)("form",{onSubmit:handleCreateGame,className:"mb-4 flex-col flex text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Create a New Game"}),(0,s.jsx)("input",{type:"text",placeholder:"Enter category name",value:i,onChange:e=>o(e.target.value),className:"border p-2 mb-4 text-black",required:!0}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{onClick:()=>d(1),type:"button",className:"bg-gray-500 text-white px-4 py-2 rounded mr-6",children:"Go Back"}),(0,s.jsx)("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded",children:"Start Game"})]})]}),3===m&&(0,s.jsxs)("form",{onSubmit:handleJoinGame,className:"mb-4 flex-col flex",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Join an Existing Game"}),(0,s.jsx)("input",{type:"number",max:999999,min:1,maxLength:6,minLength:6,placeholder:"Enter Game Room ID",value:x,onChange:e=>h(e.target.value),className:"border p-2 mb-4 text-black",required:!0}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{onClick:()=>d(1),type:"button",className:"bg-gray-500 text-white px-4 py-2 rounded mr-6",children:"Go Back"}),(0,s.jsx)("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded",children:"Join Game"})]})]}),4===m&&e&&(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-xl mb-2",children:"Theme of the game is:"}),(0,s.jsx)("p",{className:"text-2xl font-bold mb-6 text-yellow-400",children:i}),(0,s.jsx)("p",{className:"mb-2",children:"Game Room ID:"}),(0,s.jsx)("p",{children:(0,s.jsx)("strong",{className:"text-5xl",children:e})}),!!a.length&&(0,s.jsxs)("table",{className:"table-auto mt-4",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-2",children:"Player Name"}),(0,s.jsx)("th",{className:"px-4 py-2",children:"Word"}),(0,s.jsx)("th",{className:"px-4 py-2",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:a.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"border px-4 py-2",children:e.name}),(0,s.jsx)("td",{className:"border px-4 py-2",children:e.word}),(0,s.jsx)("td",{className:"border px-4 py-2",children:(0,s.jsx)("button",{onClick:()=>handleDeletePlayer(e.id),className:"bg-red-500 text-white px-2 py-1 rounded",children:"Delete"})})]},t))})]})]})]})}}},function(e){e.O(0,[481,494,971,472,744],function(){return e(e.s=7432)}),_N_E=e.O()}]);