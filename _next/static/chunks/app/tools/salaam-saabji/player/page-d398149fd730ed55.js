(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[228],{9892:function(e,a,t){Promise.resolve().then(t.bind(t,9123))},7594:function(e,a,t){"use strict";t.d(a,{F:function(){return l}});var r=t(994),s=t(2307);let o=(0,r.ZF)({apiKey:"AIzaSyB8KIYTjXFaOR784tqh9xIauwr-XVz4_Zg",authDomain:"salaam-saabji.firebaseapp.com",projectId:"salaam-saabji",storageBucket:"salaam-saabji.appspot.com",messagingSenderId:"462281595995",appId:"1:462281595995:web:e3d91c6b84f101e21b737e",measurementId:"G-XB7V8P0KDQ"}),l=(0,s.N8)(o)},9123:function(e,a,t){"use strict";t.r(a);var r=t(7437),s=t(2265),o=t(7594),l=t(2307);let n=null;n=new Audio("/sound/error.mp3"),a.default=()=>{let[e,a]=(0,s.useState)({gameRoomId:"",playerName:"",playerWord:"",submissionMessage:"",step:1,categoryName:"",playerRefKey:"",shouldRetry:!1}),t=(0,s.useCallback)(async t=>{t.preventDefault();let r=(0,l.iH)(o.F,"games/"+e.gameRoomId),s=await (0,l.U2)(r);s.exists()?a(e=>({...e,categoryName:s.val().host||"Unknown Category",step:2})):alert("Invalid Game Room ID.")},[e.gameRoomId]),m=(0,s.useCallback)(async t=>{t.preventDefault();let r=(0,l.iH)(o.F,"games/"+e.gameRoomId+"/players"),s=(0,l.VF)(r);await (0,l.t8)(s,{name:e.playerName,word:e.playerWord,id:s.key}),a(e=>({...e,playerRefKey:s.key||"",submissionMessage:"Your entry has been submitted to the host. If the host determines your entry is invalid, you will need to submit a new word.",step:3}))},[e.gameRoomId,e.playerName,e.playerWord]);(0,s.useEffect)(()=>{if(e.playerRefKey){let t=(0,l.iH)(o.F,"games/"+e.gameRoomId+"/players/"+e.playerRefKey),r=(0,l.MQ)(t,()=>{a(e=>({...e,submissionMessage:"Your entry was deleted by the host. Please try again.",shouldRetry:!0})),n&&n.play(),navigator.vibrate&&navigator.vibrate(500)});return()=>r()}},[e.playerRefKey,e.gameRoomId]);let d=(0,s.useCallback)(()=>{a(e=>({...e,playerWord:"",submissionMessage:"",step:1,categoryName:"",shouldRetry:!1}))},[]);return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen p-10",children:[1===e.step&&(0,r.jsxs)("form",{onSubmit:t,className:"flex flex-col text-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Enter Game Room ID"}),(0,r.jsx)("p",{className:"mb-4",children:"Please ask the host for the game ID to proceed"}),(0,r.jsx)("input",{type:"number",min:1,max:999999,minLength:6,maxLength:6,placeholder:"Enter Game Room ID",value:e.gameRoomId,onChange:e=>a(a=>({...a,gameRoomId:e.target.value})),className:"mb-4 p-2 border border-gray-300 rounded text-black",required:!0}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700",children:"Next"})]}),2===e.step&&(0,r.jsxs)("form",{onSubmit:m,className:"flex flex-col text-center",children:[(0,r.jsx)("h1",{className:"text-xl mb-2",children:"The theme of the game is:"}),(0,r.jsx)("p",{className:"mb-4 text-3xl text-yellow-500 font-bold",children:e.categoryName}),(0,r.jsx)("input",{type:"text",placeholder:"Enter your name",value:e.playerName,onChange:e=>a(a=>({...a,playerName:e.target.value})),className:"mb-4 p-2 border border-gray-300 rounded text-black",required:!0}),(0,r.jsx)("input",{type:"text",placeholder:"Enter a word",value:e.playerWord,onChange:e=>a(a=>({...a,playerWord:e.target.value})),className:"mb-4 p-2 border border-gray-300 rounded text-black",required:!0}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700",children:"Submit"})]}),3===e.step&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"mt-4 text-center ".concat(e.shouldRetry?"text-red-400":"text-green-500"),children:e.submissionMessage}),e.shouldRetry&&(0,r.jsx)("button",{onClick:d,className:"bg-yellow-500 text-white font-bold py-2 px-4 rounded hover:bg-yellow-700 mt-4",children:"Retry"})]})]})}}},function(e){e.O(0,[481,494,971,472,744],function(){return e(e.s=9892)}),_N_E=e.O()}]);